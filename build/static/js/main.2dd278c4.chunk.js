(this.webpackJsonpwatcher=this.webpackJsonpwatcher||[]).push([[0],{306:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address payable","name":"_organizationAddress","type":"address"},{"internalType":"string","name":"_name","type":"string"},{"internalType":"string","name":"_category","type":"string"},{"internalType":"string","name":"_description","type":"string"}],"name":"addOrganization","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"donateToOrganization","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"getOrganizationLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"}],"name":"getOrganizations","outputs":[{"internalType":"address payable","name":"","type":"address"},{"internalType":"string","name":"","type":"string"},{"internalType":"string","name":"","type":"string"},{"internalType":"string","name":"","type":"string"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"isUserAdmin","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"}]')},307:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},330:function(e,t){},350:function(e,t){},352:function(e,t){},427:function(e,t){},429:function(e,t){},462:function(e,t){},467:function(e,t){},469:function(e,t){},476:function(e,t){},489:function(e,t){},506:function(e,t){},516:function(e,t){},519:function(e,t){},526:function(e,t){},528:function(e,t){},581:function(e,t){},634:function(e,t){},686:function(e,t,n){"use strict";n.r(t);var a=n(3),s=n.n(a),c=n(305),i=n.n(c),r=n(17),l=n.n(r),o=n(41),d=n(19),u=n(45),j=n(1),p=function(e){return Object(j.jsx)("header",{id:"sticky-header",className:"header header-transparent mt-60",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"header-box white-bg pl-50 pr-50",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-xl-2 col-lg-2 col-md-3 col-5 d-flex align-items-center",children:Object(j.jsx)("div",{className:"header__logo",children:Object(j.jsx)(u.b,{to:"/",children:Object(j.jsx)("img",{src:"assets/img/logo/logo.png",alt:""})})})}),Object(j.jsxs)("div",{className:"col-xl-10 col-lg-10 col-7 col-md-9",children:[Object(j.jsx)("div",{className:"header__right f-right",children:Object(j.jsx)("div",{className:"header__icon f-right mt-30 ml-30 d-none d-md-block",children:Object(j.jsxs)("a",{className:"btn",href:"#",children:["Balance:",e.balance,"cUSD"]})})}),Object(j.jsx)("div",{className:"header__menu f-right",children:Object(j.jsx)("nav",{id:"mobile-menu",children:Object(j.jsx)("ul",{children:Object(j.jsx)("li",{children:Object(j.jsx)(u.b,{to:"/",children:"Home"})})})})})]}),Object(j.jsx)("div",{className:"col-12",children:Object(j.jsx)("div",{className:"mobile-menu"})})]})})})})},b=n(18),m=n.n(b),x=function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),s=n[0],c=n[1],i=Object(a.useState)(""),r=Object(d.a)(i,2),l=r[0],o=r[1],p=Object(a.useState)(""),b=Object(d.a)(p,2),x=b[0],h=b[1],O=Object(a.useState)(""),f=Object(d.a)(O,2),y=f[0],g=f[1];return Object(j.jsxs)("main",{children:[Object(j.jsx)("section",{className:"shop-banner-area pt-120 pb-120",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12",children:Object(j.jsx)("div",{className:"tab-content",id:"myTabContent",children:Object(j.jsx)("div",{className:"tab-pane fade show active",id:"home",role:"tabpanel","aria-labelledby":"home-tab",children:Object(j.jsx)("div",{className:"row",children:e.organizations.map((function(e){return Object(j.jsx)("div",{className:"col-lg-4 col-md-6",children:Object(j.jsxs)("div",{className:"product mb-40",children:[Object(j.jsx)("div",{className:"product__img",children:Object(j.jsx)(u.b,{to:"details/".concat(e.index),children:Object(j.jsx)("img",{src:"https://images.unsplash.com/photo-1532629345422-7515f3d16bb6?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80",alt:""})})}),Object(j.jsxs)("div",{className:"product__content text-center pt-35",children:[Object(j.jsx)("span",{className:"pro-cat",children:Object(j.jsx)(u.b,{to:"details/".concat(e.index),children:e.description})}),Object(j.jsx)("h4",{className:"pro-title",children:Object(j.jsx)(u.b,{to:"details/".concat(e.index),children:e.name})}),Object(j.jsxs)("div",{className:"price",children:[Object(j.jsxs)("span",{children:["Total Amount Donated:$",new m.a(e.totalAmount).shiftedBy(-18).toString()]}),Object(j.jsxs)("span",{children:["Total Contributed:",e.totalPersons," Person(s)"]})]})]})]})})}))})})})})})})}),e.isAdmin&&Object(j.jsx)("div",{className:"login-area",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-lg-8 offset-lg-2",children:Object(j.jsxs)("div",{className:"basic-login",children:[Object(j.jsx)("h3",{className:"text-center mb-60",children:"Add Organization"}),Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.addOrganization(s,x,l,y),c(""),o(""),h(""),g("")},children:[Object(j.jsxs)("label",{htmlFor:"name",children:["Name ",Object(j.jsx)("span",{children:"**"})]}),Object(j.jsx)("input",{id:"name",type:"text",placeholder:"Name",onChange:function(e){return c(e.target.value)},required:!0}),Object(j.jsxs)("label",{htmlFor:"name",children:["Category ",Object(j.jsx)("span",{children:"**"})]}),Object(j.jsx)("input",{id:"name",type:"text",placeholder:"Category",onChange:function(e){return h(e.target.value)},required:!0}),Object(j.jsxs)("label",{htmlFor:"name",children:["Description ",Object(j.jsx)("span",{children:"**"})]}),Object(j.jsx)("input",{id:"name",type:"text",onChange:function(e){return o(e.target.value)},placeholder:"Description",required:!0}),Object(j.jsxs)("label",{htmlFor:"name",children:["Address ",Object(j.jsx)("span",{children:"**"})]}),Object(j.jsx)("input",{id:"name",type:"text",placeholder:"Address",onChange:function(e){return g(e.target.value)},required:!0}),Object(j.jsx)("button",{className:"btn btn-black w-100",children:"Add"})]})]})})})})})]})},h=n(12),O=function(e){var t,n=Object(h.g)(),s=Object(a.useState)(),c=Object(d.a)(s,2),i=c[0],r=c[1],u=Object(a.useState)({}),p=Object(d.a)(u,2),b=p[0],m=p[1],x=Object(a.useCallback)(Object(o.a)(l.a.mark((function t(){var a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=parseInt(n.index),console.log(a),s=e.organizations.filter((function(e){return e.index===a})),m(s[0]),console.log(s);case 5:case"end":return t.stop()}}),t)}))),[n.index,e.organizations]);return Object(a.useEffect)((function(){x()}),[x]),Object(j.jsxs)("main",{children:[Object(j.jsx)("section",{className:"page-title-area","data-background":"assets/img/bg/breadcumb.jpg",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-xl-12",children:Object(j.jsxs)("div",{className:"page-title page-title-white text-center",children:[Object(j.jsx)("h2",{children:"Fund Details"}),Object(j.jsx)("div",{className:"breadcrumb-list",children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)("a",{href:"#",children:"Home"})}),Object(j.jsx)("li",{children:Object(j.jsx)("a",{href:"#",children:"Pages"})}),Object(j.jsx)("li",{children:"Fund Details"})]})})]})})})})}),Object(j.jsx)("section",{className:"event-area pos-relative pt-90 pb-120",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:" col-lg-3 col-md-3",children:Object(j.jsx)("div",{className:"fund-info mb-30",children:Object(j.jsx)("span",{style:{fontSize:"10px"},children:b.organizationAddress})})}),Object(j.jsx)("div",{className:"col-lg-9 col-md-9 ",children:Object(j.jsx)("div",{className:"event-day-time pl-15",children:Object(j.jsxs)("div",{className:"section-title mb-30",children:[Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{})," ",b.description]}),Object(j.jsx)("h1",{children:b.name})]})})}),Object(j.jsx)("div",{className:"col-12",children:Object(j.jsx)("div",{className:"fund-text mb-50",children:Object(j.jsx)("p",{children:b.category})})})]}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-xl-6 col-lg-12",children:Object(j.jsx)("div",{className:"fund-form mb-30",children:Object(j.jsxs)("form",{onSubmit:(t=b.index,function(n){n.preventDefault(),e.donateToOrganization(t,i),r("")}),children:[Object(j.jsx)("input",{type:"text",placeholder:"Enter your amount ",required:!0,value:i,onChange:function(e){return r(e.target.value)}}),Object(j.jsxs)("button",{className:"btn",type:"submit",children:["Donate ",Object(j.jsx)("img",{src:"assets/img/icon/arrow.png",alt:""})]})]})})})})]})})]})},f=n(306),y=n(307),g=n(148),v=n.n(g),w=n(309),N="0x016F733aE25aDFb742FE8C776a59e6F7dFfc2997";var T=function(){var e=Object(a.useState)(null),t=Object(d.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(null),i=Object(d.a)(c,2),r=i[0],b=i[1],g=Object(a.useState)(null),T=Object(d.a)(g,2),k=T[0],S=T[1],z=Object(a.useState)(!1),_=Object(d.a)(z,2),A=_[0],C=_[1],F=Object(a.useState)(0),M=Object(d.a)(F,2),D=M[0],E=M[1],B=Object(a.useState)([]),q=Object(d.a)(B,2),P=q[0],H=q[1],J=function(){var e=Object(o.a)(l.a.mark((function e(){var t,n,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.celo){e.next=22;break}return e.prev=1,e.next=4,window.celo.enable();case 4:return t=new v.a(window.celo),n=Object(w.newKitFromWeb3)(t),e.next=8,n.web3.eth.getAccounts();case 8:return a=e.sent,s=a[0],n.defaultAccount=s,e.next=13,b(s);case 13:return e.next=15,S(n);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0);case 20:e.next=23;break;case 22:console.log("Error Occurred");case 23:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(){return e.apply(this,arguments)}}(),U=Object(a.useCallback)(Object(o.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.getTotalBalance(r);case 3:t=e.sent,n=t.cUSD.shiftedBy(-18).toFixed(2),a=new k.web3.eth.Contract(f,N),s(a),E(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[r,k]),G=Object(a.useCallback)(Object(o.a)(l.a.mark((function e(){var t,a,s,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.methods.getOrganizationLength().call();case 2:for(t=e.sent,a=[],s=function(e){var t=new Promise(function(){var t=Object(o.a)(l.a.mark((function t(a,s){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.methods.getOrganizations(e).call();case 2:c=t.sent,a({index:e,organizationAddress:c[0],name:c[1],category:c[2],description:c[3],totalAmount:c[4],totalPersons:c[5]});case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());a.push(t)},c=0;c<t;c++)s(c);return e.next=8,Promise.all(a);case 8:i=e.sent,H(i);case 10:case"end":return e.stop()}}),e)}))),[n]),I=function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.methods.isUserAdmin(r).call();case 2:t=e.sent,console.log(t),C(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(o.a)(l.a.mark((function e(t,a,s,c){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.methods.addOrganization(c,t,a,s).send({from:r});case 3:G(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,a,s){return e.apply(this,arguments)}}(),W=function(){var e=Object(o.a)(l.a.mark((function e(t,a){var s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=new k.web3.eth.Contract(y,"0x874069Fa1Eb16D44d622F2e0Ca25eeA172369bC1"),c=new m.a(a).shiftedBy(18).toString(),e.next=5,s.methods.approve(N,c).send({from:r});case 5:return e.next=7,n.methods.donateToOrganization(t,c).send({from:r});case 7:G(),U(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){J()}),[]),Object(a.useEffect)((function(){k&&r&&U()}),[k,r,U]),Object(a.useEffect)((function(){n&&(G(),I())}),[n,G]),Object(j.jsxs)(u.a,{children:[Object(j.jsx)(p,{balance:D}),Object(j.jsxs)(h.c,{children:[Object(j.jsx)(h.a,{exact:!0,path:"/",element:Object(j.jsx)(x,{organizations:P,isAdmin:A,addOrganization:L})}),Object(j.jsx)(h.a,{path:"/details/:index",element:Object(j.jsx)(O,{organizations:P,donateToOrganization:W})})]})]})};i.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(T,{})}),document.getElementById("root"))}},[[686,1,2]]]);
//# sourceMappingURL=main.2dd278c4.chunk.js.map