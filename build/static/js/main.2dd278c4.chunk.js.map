{"version":3,"sources":["components/Navbar.js","components/Home.js","components/Details.js","App.js","index.js"],"names":["Navbar","props","id","className","to","src","alt","href","balance","Home","useState","name","setName","description","setDescription","category","setCategory","address","setAddress","role","aria-labelledby","organizations","map","organization","index","BigNumber","totalAmount","shiftedBy","toString","totalPersons","isAdmin","onSubmit","event","preventDefault","addOrganization","htmlFor","type","placeholder","onChange","e","target","value","required","Details","params","useParams","amount","setAmount","setOrganization","getOrganizationById","useCallback","a","parseInt","console","log","_organization","filter","org","useEffect","data-background","style","fontSize","organizationAddress","donateToOrganization","contractAddress","App","contract","setcontract","kit","setKit","setIsAdmin","cUSDBalance","setcUSDBalance","setOrganizations","connectToWallet","window","celo","enable","web3","Web3","newKitFromWeb3","eth","getAccounts","accounts","user_address","defaultAccount","getBalance","getTotalBalance","USDBalance","cUSD","toFixed","Contract","watcher","getOrganizations","methods","getOrganizationLength","call","organizationLength","_organizations","Promise","resolve","reject","push","all","isUserAdmin","_name","_category","_description","_address","send","from","_index","_amount","cUSDContract","ierc20","approve","exact","path","element","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2dd278c4.chunk.js","sourcesContent":["import { Link } from \"react-router-dom\";\r\n\r\nconst Navbar = (props) => {\r\n  return (\r\n    <header id=\"sticky-header\" className=\"header header-transparent mt-60\">\r\n      <div className=\"container\">\r\n        <div className=\"header-box white-bg pl-50 pr-50\">\r\n          <div className=\"row\">\r\n            <div className=\"col-xl-2 col-lg-2 col-md-3 col-5 d-flex align-items-center\">\r\n              <div className=\"header__logo\">\r\n                <Link to=\"/\">\r\n                  <img src=\"assets/img/logo/logo.png\" alt=\"\" />\r\n                </Link>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-xl-10 col-lg-10 col-7 col-md-9\">\r\n              <div className=\"header__right f-right\">\r\n                <div className=\"header__icon f-right mt-30 ml-30 d-none d-md-block\">\r\n                  <a className=\"btn\" href=\"#\">\r\n                    Balance:{props.balance}cUSD\r\n                  </a>\r\n                </div>\r\n              </div>\r\n              <div className=\"header__menu f-right\">\r\n                <nav id=\"mobile-menu\">\r\n                  <ul>\r\n                    <li>\r\n                      <Link to=\"/\">Home</Link>\r\n\r\n                    </li>\r\n\r\n                  </ul>\r\n                </nav>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-12\">\r\n              <div className=\"mobile-menu\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React, { useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport BigNumber from \"bignumber.js\";\r\n\r\nconst Home = (props) => {\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [category, setCategory] = useState(\"\");\r\n  const [address, setAddress] = useState(\"\");\r\n\r\n  const formHandler = (event) => {\r\n    event.preventDefault();\r\n    props.addOrganization(name, category, description, address);\r\n    setName(\"\");\r\n    setDescription(\"\");\r\n    setCategory(\"\");\r\n    setAddress(\"\");\r\n  };\r\n  return (\r\n    <main>\r\n      <section className=\"shop-banner-area pt-120 pb-120\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <div className=\"tab-content\" id=\"myTabContent\">\r\n                <div\r\n                  className=\"tab-pane fade show active\"\r\n                  id=\"home\"\r\n                  role=\"tabpanel\"\r\n                  aria-labelledby=\"home-tab\"\r\n                >\r\n                  <div className=\"row\">\r\n                    {props.organizations.map((organization) => (\r\n                      <div className=\"col-lg-4 col-md-6\">\r\n                        <div className=\"product mb-40\">\r\n                          <div className=\"product__img\">\r\n                            <Link to={`details/${organization.index}`}>\r\n                              <img\r\n                                src=\"https://images.unsplash.com/photo-1532629345422-7515f3d16bb6?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80\"\r\n                                alt=\"\"\r\n                              />\r\n                            </Link>\r\n                          </div>\r\n                          <div className=\"product__content text-center pt-35\">\r\n                            <span className=\"pro-cat\">\r\n                              <Link to={`details/${organization.index}`}>{organization.description}</Link>\r\n                            </span>\r\n                            <h4 className=\"pro-title\">\r\n                              <Link to={`details/${organization.index}`}>\r\n                                {organization.name}\r\n                              </Link>\r\n                            </h4>\r\n                            <div className=\"price\">\r\n                              <span>\r\n                                Total Amount Donated:$\r\n                                {new BigNumber(organization.totalAmount)\r\n                                  .shiftedBy(-18)\r\n                                  .toString()}\r\n                              </span>\r\n\r\n                              <span>\r\n                                Total Contributed:\r\n                                {organization.totalPersons} Person(s)\r\n                              </span>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n      {props.isAdmin && (\r\n        <div className=\"login-area\">\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-8 offset-lg-2\">\r\n                <div className=\"basic-login\">\r\n                  <h3 className=\"text-center mb-60\">Add Organization</h3>\r\n                  <form onSubmit={formHandler}>\r\n                    <label htmlFor=\"name\">\r\n                      Name <span>**</span>\r\n                    </label>\r\n                    <input\r\n                      id=\"name\"\r\n                      type=\"text\"\r\n                      placeholder=\"Name\"\r\n                      onChange={(e) => setName(e.target.value)}\r\n                      required\r\n                    />\r\n                    <label htmlFor=\"name\">\r\n                      Category <span>**</span>\r\n                    </label>\r\n                    <input\r\n                      id=\"name\"\r\n                      type=\"text\"\r\n                      placeholder=\"Category\"\r\n                      onChange={(e) => setCategory(e.target.value)}\r\n                      required\r\n                    />\r\n                    <label htmlFor=\"name\">\r\n                      Description <span>**</span>\r\n                    </label>\r\n                    <input\r\n                      id=\"name\"\r\n                      type=\"text\"\r\n                      onChange={(e) => setDescription(e.target.value)}\r\n                      placeholder=\"Description\"\r\n                      required\r\n                    />\r\n                    <label htmlFor=\"name\">\r\n                      Address <span>**</span>\r\n                    </label>\r\n                    <input\r\n                      id=\"name\"\r\n                      type=\"text\"\r\n                      placeholder=\"Address\"\r\n                      onChange={(e) => setAddress(e.target.value)}\r\n                      required\r\n                    />\r\n                    <button className=\"btn btn-black w-100\">Add</button>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import { useState, useEffect, useCallback } from \"react\";\r\nimport { useParams } from \"react-router\";\r\n\r\nconst Details = (props) => {\r\n  const params = useParams();\r\n  const [amount, setAmount] = useState();\r\n  const [organization, setOrganization] = useState({});\r\n\r\n  const getOrganizationById = useCallback(async () => {\r\n    const id = parseInt(params.index);\r\n    console.log(id);\r\n    const _organization = props.organizations.filter((org) => org.index === id);\r\n    setOrganization(_organization[0]);\r\n    console.log(_organization);\r\n  }, [params.index, props.organizations]);\r\n\r\n  const donateHandler = (index) => (event) => {\r\n    event.preventDefault();\r\n    props.donateToOrganization(index, amount);\r\n    setAmount(\"\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    getOrganizationById();\r\n  }, [getOrganizationById]);\r\n\r\n  return (\r\n    <main>\r\n      {/* page-title-area start */}\r\n      <section\r\n        className=\"page-title-area\"\r\n        data-background=\"assets/img/bg/breadcumb.jpg\"\r\n      >\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-xl-12\">\r\n              <div className=\"page-title page-title-white text-center\">\r\n                <h2>Fund Details</h2>\r\n                <div className=\"breadcrumb-list\">\r\n                  <ul>\r\n                    <li>\r\n                      <a href=\"#\">Home</a>\r\n                    </li>\r\n                    <li>\r\n                      <a href=\"#\">Pages</a>\r\n                    </li>\r\n                    <li>Fund Details</li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n      {/* page-title-area end */}\r\n      {/* event-area start */}\r\n      <section className=\"event-area pos-relative pt-90 pb-120\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\" col-lg-3 col-md-3\">\r\n              <div className=\"fund-info mb-30\">\r\n                <span style={{ fontSize: \"10px\" }}>\r\n                  {organization.organizationAddress}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-9 col-md-9 \">\r\n              <div className=\"event-day-time pl-15\">\r\n                <div className=\"section-title mb-30\">\r\n                  <p>\r\n                    <span /> {organization.description}\r\n                  </p>\r\n                  <h1>{organization.name}</h1>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-12\">\r\n              <div className=\"fund-text mb-50\">\r\n                <p>{organization.category}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"row\">\r\n            <div className=\"col-xl-6 col-lg-12\">\r\n              <div className=\"fund-form mb-30\">\r\n                <form onSubmit={donateHandler(organization.index)}>\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Enter your amount \"\r\n                    required\r\n                    value = {amount}\r\n                    onChange={(e) => setAmount(e.target.value)}\r\n                  />\r\n                  <button className=\"btn\" type=\"submit\">\r\n                    Donate <img src=\"assets/img/icon/arrow.png\" alt=\"\" />\r\n                  </button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Details;\r\n","import React, { useState, useCallback, useEffect } from \"react\";\nimport Navbar from \"./components/Navbar\";\nimport Home from \"./components/Home\";\n\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\nimport Details from \"./components/Details\";\n\nimport watcher from \"./contracts/watcher.abi.json\";\nimport ierc20 from \"./contracts/ierc20.abi.json\";\nimport Web3 from \"web3\";\nimport { newKitFromWeb3 } from \"@celo/contractkit\";\nimport BigNumber from \"bignumber.js\";\n\nconst ERC20_DECIMALS = 18;\n\nconst contractAddress = \"0x016F733aE25aDFb742FE8C776a59e6F7dFfc2997\";\nconst cUSDContractAddress = \"0x874069Fa1Eb16D44d622F2e0Ca25eeA172369bC1\";\n\nfunction App() {\n  const [contract, setcontract] = useState(null);\n  const [address, setAddress] = useState(null);\n  const [kit, setKit] = useState(null);\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [cUSDBalance, setcUSDBalance] = useState(0);\n  const [organizations, setOrganizations] = useState([]);\n\n  const connectToWallet = async () => {\n    if (window.celo) {\n      try {\n        await window.celo.enable();\n        const web3 = new Web3(window.celo);\n        let kit = newKitFromWeb3(web3);\n\n        const accounts = await kit.web3.eth.getAccounts();\n        const user_address = accounts[0];\n\n        kit.defaultAccount = user_address;\n\n        await setAddress(user_address);\n        await setKit(kit);\n      } catch (error) {\n        console.log(error);\n      }\n    } else {\n      console.log(\"Error Occurred\");\n    }\n  };\n\n  const getBalance = useCallback(async () => {\n    try {\n      const balance = await kit.getTotalBalance(address);\n      const USDBalance = balance.cUSD.shiftedBy(-ERC20_DECIMALS).toFixed(2);\n\n      const contract = new kit.web3.eth.Contract(watcher, contractAddress);\n      setcontract(contract);\n      setcUSDBalance(USDBalance);\n    } catch (error) {\n      console.log(error);\n    }\n  }, [address, kit]);\n\n  const getOrganizations = useCallback(async () => {\n    const organizationLength = await contract.methods\n      .getOrganizationLength()\n      .call();\n    const organizations = [];\n\n    for (let index = 0; index < organizationLength; index++) {\n      let _organizations = new Promise(async (resolve, reject) => {\n        let organization = await contract.methods\n          .getOrganizations(index)\n          .call();\n\n        resolve({\n          index: index,\n          organizationAddress: organization[0],\n          name: organization[1],\n          category: organization[2],\n          description: organization[3],\n          totalAmount: organization[4],\n          totalPersons: organization[5],\n        });\n      });\n      organizations.push(_organizations);\n    }\n\n    const _organizations = await Promise.all(organizations);\n    setOrganizations(_organizations);\n  }, [contract]);\n\n  const isUserAdmin = async () => {\n    const isAdmin = await contract.methods.isUserAdmin(address).call();\n    console.log(isAdmin);\n    setIsAdmin(isAdmin);\n  };\n\n  const addOrganization = async (_name, _category, _description, _address) => {\n    try {\n      await contract.methods\n        .addOrganization(_address, _name, _category, _description)\n        .send({ from: address });\n      getOrganizations();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const donateToOrganization = async (_index, _amount) => {\n    try {\n      const cUSDContract = new kit.web3.eth.Contract(\n        ierc20,\n        cUSDContractAddress\n      );\n      const amount = new BigNumber(_amount)\n        .shiftedBy(ERC20_DECIMALS)\n        .toString();\n      await cUSDContract.methods\n        .approve(contractAddress, amount)\n        .send({ from: address });\n      await contract.methods\n        .donateToOrganization(_index, amount)\n        .send({ from: address });\n      getOrganizations();\n      getBalance();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    connectToWallet();\n  }, []);\n\n  useEffect(() => {\n    if (kit && address) {\n      getBalance();\n    }\n  }, [kit, address, getBalance]);\n  useEffect(() => {\n    if (contract) {\n      getOrganizations();\n      isUserAdmin();\n    }\n  }, [contract, getOrganizations]);\n  return (\n    <BrowserRouter>\n      <Navbar balance={cUSDBalance} />\n      <Routes>\n        <Route\n          exact\n          path=\"/\"\n          element={\n            <Home\n              organizations={organizations}\n              isAdmin={isAdmin}\n              addOrganization={addOrganization}\n            />\n          }\n        />\n        <Route\n          path=\"/details/:index\"\n          element={\n            <Details\n              organizations={organizations}\n              donateToOrganization={donateToOrganization}\n            />\n          }\n        />\n      </Routes>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}